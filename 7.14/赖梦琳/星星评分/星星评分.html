<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
        <link rel="stylesheet" href="css/reset.css"/>
        <link rel="stylesheet" href="css/style.css"/>
	</head>

	<body>
		<div class="wrap">
			<div class="box">
				<div class="content">
					<h2><i>|</i>总体评价</h2>
					<div id="star">
						<span></span>
						<span></span>
						<span></span>
						<span></span>
						<span></span>
						<p id="btn"></p>
					</div>
				</div>
				<div class="bottom">小提示：点击星星就能打分</div>
			</div>
			<script src="../utils.js"></script>
			<script>
			var spans = $('span');
			var btn = $('#btn');
			var arr = ['极差','一般','不错','推荐','力推'];
			var arr2 = ['./images/purplestar.png','./images/purplestar.png','./images/redstar.png','./images/redstar.png','./images/redstar.png']
			var isClick = 0; 
			var n = 0; 
			for( var i = 0; i < spans.length; i++ ){
				spans[i].index = i;
				spans[i].onmouseover =function (){
					func(this.index);
					btn.style.display = 'block';
					btn.innerHTML = arr[this.index];
				}
				spans[i].onmouseout =function (){
					if(isClick == 0){ 
						for( var j = 0; j < spans.length; j++ ){
							spans[j].style.backgroundImage = '';	
						}
						btn.style.display = 'none';
					}else{
						func(n);
						btn.innerHTML = arr[n];
					}		
				}
				spans[i].onclick =function (){
					isClick = 1; //不为1的数
					n = this.index;
				}
			}
			function func(m){
				for( var j = 0; j < spans.length; j++ ){
					if(spans[j].index <= m){
						if(m < 2){
							spans[j].style.backgroundImage = 'url('+arr2[m]+')';
						}else{
							spans[j].style.backgroundImage = 'url('+arr2[m]+')';
						}

					}else{
						spans[j].style.backgroundImage = '';
					}
				}	
			}
		</script>
	</body>
</html>
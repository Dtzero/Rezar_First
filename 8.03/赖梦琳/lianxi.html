<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
		<style>
			div {
				width: 100px;
				height: 100px;
				background: red;
				position: absolute;
				left: 0;
				top: 0;
			}
		</style>
	</head>

	<body>
		<div id="box"></div>
		<script>

		var oldTime = 0;
		var timer = null;
		var right = false;
		var bottom = false;
		var tops = false;
		var left = false;

		document.onkeydown = function (ev){
			if(ev.keyCode === 39){
				right = true;
			}
			if(ev.keyCode === 40){
				bottom = true;
			}
			if(ev.keyCode === 37){
				left = true;
			}
			if(ev.keyCode === 38){
				tops = true;
			}
		}

		document.onkeyup = function (ev){
			if(ev.keyCode === 39){
				right = false;
			}
			if(ev.keyCode === 40){
				bottom = false;
			}
			if(ev.keyCode === 37){
				left = false;
			}
			if(ev.keyCode === 38){
				tops = false;
			}
		};

		timer = setInterval(function (){
			if(right){
				box.style.left = box.offsetLeft + 1 + 'px';
			}
			if(bottom){
				box.style.top = box.offsetTop + 1 + 'px';
			}
			if(tops){
				box.style.top = box.offsetTop - 1 + 'px';
			}
			if(left){
				box.style.left = box.offsetLeft - 1 + 'px';
			}	
		},30)
		
		</script>
	</body>
</html>
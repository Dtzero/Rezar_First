<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
	</head>

	<body>
		<div id="box">
			<p class="txt">123</p>
		</div>
		<script>
			function $(selector,context){
				//去除前后空格
				selector = selector.trim();
				if(!context){//如果没有context，赋值为document;
					context = document;
				};//或者所写成：context = context || document;m
				//indexOf():搜索参数在字符串中首次出现的位置,有,位置;没有,反馈-1;
				if(selector.indexOf(' ') !== -1){//判断是否有空格，有，交给querySelectorAll
					return context.querySelectorAll(selector);
				};
				if(selector.charAt(0) === '#'){//Id
					return document.getElementById(selector.slice(1));
				}else if(selector.charAt(0) === '.'){//ClassName
					return context.getElementsByClassName(selector.slice(1));
				}else{//TagName
					return context.getElementsByTagName(selector);
				};
			};
			console.log($('#box'));//条件2
			console.log($('.txt'));//条件3
			console.log($('#box p'));//条件1
			console.log($('.txt',$('#box')));//综合1、2
		</script>
	</body>
</html>